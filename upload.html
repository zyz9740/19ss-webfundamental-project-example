<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="common.css" rel="stylesheet" type="text/css" />
    <link href="upload.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
    <script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <title>upload</title>
    <script>
        $().ready(function () {
            $('#uploadBtn').click(function () {
                $('#uploadImg').click();
                //当图片选中后，会触发name=file文本的change事件
                $('#uploadImg').change(function () {
                    let file = this.files[0];
                    // console.log(file)
                    let imgSrc = null;
                    if (window.createObjectURL!=undefined) { // basic
                        imgSrc = window.createObjectURL(file) ;
                    } else if (window.URL!=undefined) { // mozilla(firefox)
                        imgSrc = window.URL.createObjectURL(file) ;
                    } else if (window.webkitURL!=undefined) { // webkit or chrome
                        imgSrc = window.webkitURL.createObjectURL(file) ;
                    }
                    $('#uploadBtn-info').text('文件名: ' + file.name);
                    $('#img-show').css('display', 'block');
                    $('#img-show').children("img").attr('src', imgSrc)
                })
            })
        })

    </script>
</head>
<body>
    <div class="nav">
        <div class="nav-left">
            <ul>
                <li><img src="img/icons/logo.jpg" class="nav-logo"></li>
                <li><a href="index.html">Home</a></li>
                <li><a href="browse.html">Browse</a></li>
                <li><a href="search.html">Search</a></li>
            </ul>
        </div>
        <div class="nav-right">
            <ul>
                <li><a href="#home" id="account">My account</a></li>
            </ul>
            <div class="nav-right-float">
                <ul>
                    <li><a href="upload.html"><i class="fa fa-upload"></i>Upload</a></li>
                    <li><a href="myUpload.html"><i class="fa fa-photo"></i>My Photo</a></li>
                    <li><a href="favorite.html"><i class="fa fa-heart"></i>My Favorite</a></li>
                    <li><a href="login.html"><i class="fa fa-sign-in"></i>Log In</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="block">
            <p class="block-title">Upload local picture</p>
            <div style="padding: 20px 20px 0 20px">
                <input id="uploadImg" type="file" accept="image/*" style="display: none">
                <button id="uploadBtn" class="confirm" style="margin-right: 20px;">Upload</button><span id="uploadBtn-info">未上传文件</span><br>
                <div id="img-show" class="autofit-cell"><img src=""/></div>
            </div>
            <form action="myUpload.html">
                图片标题：<input type="text"><br>
                图片描述：<textarea></textarea><br>
                <span>拍摄国家：</span><input type="text"><br>
                <span>拍摄城市：</span><input type="text"><br>
                <button type="submit" class="confirm" style="margin-top: 20px;">Submit</button>
            </form>
        </div>
    </div>
    <div class="footer"><p>Copyright © 2019-2021 Web fundamental. All Rights Reserved. 备案号：沪BILIBILI备12138号-1</p></div>
</body>
</html>
